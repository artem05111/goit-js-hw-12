{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.input-search');\nconst gallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n  close: true,\n});\nconst loader = document.querySelector('.loader');\nfunction showLoader() {\n  loader.style.display = 'block';\n}\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\nconst searchImg = () => {\n  const inputText = input.value.trim();\n\n  const params = new URLSearchParams({\n    key: '41919290-013d4a73a2d1360aed7891ab9',\n    q: `${inputText}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = `https://pixabay.com/api/?${params}`;\n\n  showLoader();\n\n  fetch(url)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    })\n    .then(({ hits }) => {\n      hideLoader();\n\n      if (hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      } else {\n        gallery.innerHTML = hits\n          .map(\n            hit => `<a class=\"gallery-link\" href=\"${hit.largeImageURL}\"\n      ><img class=\"gallery-image\" src=\"${hit.webformatURL}\" alt=\"${hit.tags}\"\n    />\n    <ul class=\"gallery-stats\">\n      <li class=\"gallery-stats-item\">\n        <h2 class=\"stats-title\">Likes</h2>\n        <p class=\"stats-value\">${hit.likes}</p>\n      </li>\n      <li class=\"gallery-stats-item\">\n        <h2 class=\"stats-title\">Views</h2>\n        <p class=\"stats-value\">${hit.views}</p>\n      </li>\n      <li class=\"gallery-stats-item\">\n        <h2 class=\"stats-title\">Comments</h2>\n        <p class=\"stats-value\">${hit.comments}</p>\n      </li>\n      <li class=\"gallery-stats-item\">\n        <h2 class=\"stats-title\">Downloads</h2>\n        <p class=\"stats-value\">${hit.downloads}</p>\n      </li>\n    </ul></a>`\n          )\n          .join('');\n      }\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n      hideLoader();\n    });\n};\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  gallery.innerHTML = '';\n  searchImg();\n  form.reset();\n});\n"],"names":["form","input","gallery","lightbox","SimpleLightbox","loader","showLoader","hideLoader","searchImg","inputText","url","resp","hits","iziToast","hit","error","evt"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,IACd,aAAc,MACd,MAAO,EACT,CAAC,EACKC,EAAS,SAAS,cAAc,SAAS,EAC/C,SAASC,GAAa,CACpBD,EAAO,MAAM,QAAU,OACzB,CACA,SAASE,GAAa,CACpBF,EAAO,MAAM,QAAU,MACzB,CAEA,MAAMG,EAAY,IAAM,CACtB,MAAMC,EAAYR,EAAM,MAAM,KAAI,EAU5BS,EAAM,4BARG,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAG,GAAGD,IACN,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,IAIDH,IAEA,MAAMI,CAAG,EACN,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAClB,CAAK,EACA,KAAK,CAAC,CAAE,KAAAC,KAAW,CAClBL,IAEIK,EAAK,SAAW,EAClBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAEDX,EAAQ,UAAYU,EACjB,IACCE,GAAO,iCAAiCA,EAAI;AAAA,yCACfA,EAAI,sBAAsBA,EAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iCAKtCA,EAAI;AAAA;AAAA;AAAA;AAAA,iCAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,iCAIJA,EAAI;AAAA;AAAA;AAAA;AAAA,iCAIJA,EAAI;AAAA;AAAA,cAG1B,EACA,KAAK,EAAE,EAEZX,EAAS,QAAO,CACtB,CAAK,EACA,MAAMY,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBR,GACN,CAAK,CACL,EAEAP,EAAK,iBAAiB,SAAUgB,GAAO,CACrCA,EAAI,eAAc,EAClBd,EAAQ,UAAY,GACpBM,IACAR,EAAK,MAAK,CACZ,CAAC"}